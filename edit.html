<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Edit Eurovision Rankings</title>

  <!-- SortableJS for drag-and-drop -->
  <script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.0/Sortable.min.js"></script>

  <!-- Custom CSS -->
  <link rel="stylesheet" href="edit.css" />
</head>
<body>
  <main class="ranking-container">
    <section id="ranking-slots" class="right-panel">
        <h2>Edit Rankings</h2>
        <p class="instruction-text">
          Drag and drop entries to change their order. Click <strong>Replace</strong> to change to a different entry.
        </p>
        <div id="slots-container"></div>
      </section>
      
  </main>


  <!-- Firebase SDK -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
    import { getFirestore, doc, getDoc, updateDoc } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js";

    const firebaseConfig = {
      apiKey: "AIzaSyC9XUaWmUil7_IKOeS_7_s3XMP8zhLT_bM",
      authDomain: "eurovision-1aab3.firebaseapp.com",
      projectId: "eurovision-1aab3",
      storageBucket: "eurovision-1aab3.appspot.com",
      messagingSenderId: "1027692031608",
      appId: "1:1027692031608:web:04ac81204c85cccd39c78d"
    };

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    // Make Firestore available globally for edit.js
    window.firebaseDB = db;
    window.firebaseGetDoc = getDoc;
    window.firebaseDoc = doc;
    window.firebaseUpdateDoc = updateDoc;
  </script>

  <!-- Main Script -->
  <script type="module" src="edit.js"></script>
  <!-- Replace Modal -->
    <div id="replace-modal" class="modal-overlay" style="display:none;">
        <div class="modal-content">
        <h3>Select a Replacement</h3>
        <div id="replacement-options" class="options-grid"></div>
        <button id="cancel-replace">Cancel</button>
        </div>
    </div>
    <!-- Sticky Save Button -->
<div id="save-container">
    <button id="save-btn">Save Changes</button>
  </div>
  
</body>
</html>
